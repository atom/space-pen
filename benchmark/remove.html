<html>

<head>
  <!-- coffeescript -->
  <script type="text/javascript" src="../vendor/coffee-script.js"></script>

  <!-- dependencies -->
  <script type="text/javascript" src="../vendor/jquery.js"></script>

  <!-- implementation -->
  <script type="text/coffeescript" src="../space-pen.coffee"></script>

  <script type="text/coffeescript">
    $ ->
      if WeakMap?.constructor?
        $("#status").text("Removing 10,000 divs with WeakMap view cache")
      else
        $("#status").text("Removing 10,000 divs without WeakMap view cache")

      container = $("#remove")
      for i in [1...10000]
        container.append("<div>will remove</div>")

      start = new Date().getTime()
      container.remove()
      time = new Date().getTime() - start
      $("#results").text("Time: #{time} ms")
  </script>
</head>

<body>

<div id="status"></div>
<div id="results"></div>

<div id="remove"></div>

</body>

</html>
